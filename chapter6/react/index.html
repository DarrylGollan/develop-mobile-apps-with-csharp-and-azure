



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
        <link rel="canonical" href="https://adrianhall.github.io/develop-mobile-apps-with-csharp-and-azure/chapter6/react/">
      
      
        <meta name="author" content="Adrian Hall">
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-3.3.0">
    
    
      
        <title>React Applications - Develop Cloud Connected Mobile Apps with Xamarin and Microsoft Azure</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.572ca0f0.css">
      
      
    
    
      <script src="../../assets/javascripts/modernizr.962652e9.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../assets/fonts/material-icons.css">
    
    
      <link rel="stylesheet" href="../../css/extra.css">
    
      <link rel="stylesheet" href="../../css/vs.css">
    
    
      
        <script async src="https://www.googletagmanager.com/gtag/js?id=UA-93366112-1"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-93366112-1")</script>
      
    
    
  </head>
  
    <body dir="ltr">
  
    <svg class="md-svg">
      <defs>
        
        
          <svg xmlns="http://www.w3.org/2000/svg" width="416" height="448"
    viewBox="0 0 416 448" id="__github">
  <path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19-18.125
        8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19 18.125-8.5
        18.125 8.5 10.75 19 3.125 20.5zM320 304q0 10-3.125 20.5t-10.75
        19-18.125 8.5-18.125-8.5-10.75-19-3.125-20.5 3.125-20.5 10.75-19
        18.125-8.5 18.125 8.5 10.75 19 3.125 20.5zM360
        304q0-30-17.25-51t-46.75-21q-10.25 0-48.75 5.25-17.75 2.75-39.25
        2.75t-39.25-2.75q-38-5.25-48.75-5.25-29.5 0-46.75 21t-17.25 51q0 22 8
        38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0
        37.25-1.75t35-7.375 30.5-15 20.25-25.75 8-38.375zM416 260q0 51.75-15.25
        82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5-41.75
        1.125q-19.5 0-35.5-0.75t-36.875-3.125-38.125-7.5-34.25-12.875-30.25-20.25-21.5-28.75q-15.5-30.75-15.5-82.75
        0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25
        30.875q36.75-8.75 77.25-8.75 37 0 70 8 26.25-20.5
        46.75-30.25t47.25-9.75q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34
        99.5z" />
</svg>
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#react-applications" tabindex="1" class="md-skip">
        Skip to content
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="https://adrianhall.github.io/develop-mobile-apps-with-csharp-and-azure/" title="Develop Cloud Connected Mobile Apps with Xamarin and Microsoft Azure" class="md-header-nav__button md-logo">
          
            <i class="md-icon"></i>
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Develop Cloud Connected Mobile Apps with Xamarin and Microsoft Azure
              </span>
              <span class="md-header-nav__topic">
                React Applications
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
        <div class="md-flex__cell md-flex__cell--shrink">
          <div class="md-header-nav__source">
            


  


  <a href="https://github.com/adrianhall/develop-mobile-apps-with-csharp-and-azure/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

          </div>
        </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="https://adrianhall.github.io/develop-mobile-apps-with-csharp-and-azure/" title="Develop Cloud Connected Mobile Apps with Xamarin and Microsoft Azure" class="md-nav__button md-logo">
      
        <i class="md-icon"></i>
      
    </a>
    Develop Cloud Connected Mobile Apps with Xamarin and Microsoft Azure
  </label>
  
    <div class="md-nav__source">
      


  


  <a href="https://github.com/adrianhall/develop-mobile-apps-with-csharp-and-azure/" title="Go to repository" class="md-source" data-md-source="github">
    
      <div class="md-source__icon">
        <svg viewBox="0 0 24 24" width="24" height="24">
          <use xlink:href="#__github" width="24" height="24"></use>
        </svg>
      </div>
    
    <div class="md-source__repository">
      GitHub
    </div>
  </a>

    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../.." title="Getting Started" class="md-nav__link">
      Getting Started
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2">
    
    <label class="md-nav__link" for="nav-2">
      Chapter 1 - Introduction
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Chapter 1 - Introduction
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter1/firstapp_pc/" title="Your First App - PC Edition" class="md-nav__link">
      Your First App - PC Edition
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter1/firstapp_mac/" title="Your First App - Mac Edition" class="md-nav__link">
      Your First App - Mac Edition
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Chapter 2 - Authentication
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Chapter 2 - Authentication
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter2/authconcepts/" title="Concepts" class="md-nav__link">
      Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter2/backend/" title="Authentication in the Backend" class="md-nav__link">
      Authentication in the Backend
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter2/enterprise/" title="Enterprise Authentication" class="md-nav__link">
      Enterprise Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter2/social/" title="Social Authentication" class="md-nav__link">
      Social Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter2/debugging/" title="Debugging Authentication" class="md-nav__link">
      Debugging Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter2/custom/" title="Custom Authentication" class="md-nav__link">
      Custom Authentication
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter2/authorization/" title="Claims and Authorization" class="md-nav__link">
      Claims and Authorization
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter2/realworld/" title="Tokens in Real Apps" class="md-nav__link">
      Tokens in Real Apps
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter2/bestpractices/" title="Best Practices" class="md-nav__link">
      Best Practices
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Chapter 3 - Data Access and Offline Sync
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Chapter 3 - Data Access and Offline Sync
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter3/dataconcepts/" title="Concepts" class="md-nav__link">
      Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter3/server/" title="Implementing Table Controllers" class="md-nav__link">
      Implementing Table Controllers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter3/projection/" title="Data Projection and Queries" class="md-nav__link">
      Data Projection and Queries
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter3/client/" title="The Mobile Client" class="md-nav__link">
      The Mobile Client
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter3/relationships/" title="Relationships" class="md-nav__link">
      Relationships
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter3/domainmgr/" title="The Domain Manager" class="md-nav__link">
      The Domain Manager
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Chapter 4 - Server Side Code
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Chapter 4 - Server Side Code
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter4/options/" title="Options for Server Code" class="md-nav__link">
      Options for Server Code
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter4/custom/" title="Custom HTTP Endpoints" class="md-nav__link">
      Custom HTTP Endpoints
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter4/webjobs/" title="WebJobs" class="md-nav__link">
      WebJobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter4/functions/" title="Functions" class="md-nav__link">
      Functions
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter4/recipes/" title="Recipes" class="md-nav__link">
      Recipes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Chapter 5 - Push Notifications
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Chapter 5 - Push Notifications
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter5/concepts/" title="Concepts" class="md-nav__link">
      Concepts
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter5/android/" title="Android Push" class="md-nav__link">
      Android Push
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter5/ios/" title="iOS Push" class="md-nav__link">
      iOS Push
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter5/windows/" title="Windows Push" class="md-nav__link">
      Windows Push
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter5/recipes/" title="Push Recipes" class="md-nav__link">
      Push Recipes
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7" checked>
    
    <label class="md-nav__link" for="nav-7">
      Chapter 6 - Combining Web and Mobile Apps
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Chapter 6 - Combining Web and Mobile Apps
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../mvc/" title="MVC Applications" class="md-nav__link">
      MVC Applications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../jquery/" title="jQuery Applications" class="md-nav__link">
      jQuery Applications
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../angular/" title="Angular Applications" class="md-nav__link">
      Angular Applications
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        React Applications
      </label>
    
    <a href="./" title="React Applications" class="md-nav__link md-nav__link--active">
      React Applications
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setting-up" title="Setting Up" class="md-nav__link">
    Setting Up
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mvc-controller-view" title="MVC Controller &amp; View" class="md-nav__link">
    MVC Controller &amp; View
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-a-webpack-project" title="Setting up a Webpack project" class="md-nav__link">
    Setting up a Webpack project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-the-webpack-files-automatically" title="Building the Webpack files automatically" class="md-nav__link">
    Building the Webpack files automatically
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrating-azure-mobile-apps" title="Integrating Azure Mobile Apps" class="md-nav__link">
    Integrating Azure Mobile Apps
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#updating-webpack-for-azure-mobile-apps-javascript-sdk" title="Updating Webpack for Azure Mobile Apps JavaScript SDK" class="md-nav__link">
    Updating Webpack for Azure Mobile Apps JavaScript SDK
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Chapter 7 - Other Useful Services
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Chapter 7 - Other Useful Services
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter7/services/" title="Useful Azure Services" class="md-nav__link">
      Useful Azure Services
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter7/search/" title="Azure Search" class="md-nav__link">
      Azure Search
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter7/media/" title="Media Services" class="md-nav__link">
      Media Services
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Chapter 8 - Developing An App
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Chapter 8 - Developing An App
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter8/developing/" title="The Development Environment" class="md-nav__link">
      The Development Environment
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter8/testing/" title="Testing your Application" class="md-nav__link">
      Testing your Application
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      Chapter 9 - Going to Production
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        Chapter 9 - Going to Production
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter9/arm/" title="Repeatable Deployments" class="md-nav__link">
      Repeatable Deployments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter9/appsvc/" title="Safe Deployments" class="md-nav__link">
      Safe Deployments
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../chapter9/monitoring/" title="Monitoring and Troubleshooting" class="md-nav__link">
      Monitoring and Troubleshooting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../xamarin_tips/" title="Xamarin Forms Tips" class="md-nav__link">
      Xamarin Forms Tips
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../android_appendix/" title="Android Developer Notes" class="md-nav__link">
      Android Developer Notes
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../vs_extensions/" title="Visual Studio Extensions" class="md-nav__link">
      Visual Studio Extensions
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../references/" title="References" class="md-nav__link">
      References
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../credits/" title="Credits" class="md-nav__link">
      Credits
    </a>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#setting-up" title="Setting Up" class="md-nav__link">
    Setting Up
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#mvc-controller-view" title="MVC Controller &amp; View" class="md-nav__link">
    MVC Controller &amp; View
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#setting-up-a-webpack-project" title="Setting up a Webpack project" class="md-nav__link">
    Setting up a Webpack project
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#building-the-webpack-files-automatically" title="Building the Webpack files automatically" class="md-nav__link">
    Building the Webpack files automatically
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#integrating-azure-mobile-apps" title="Integrating Azure Mobile Apps" class="md-nav__link">
    Integrating Azure Mobile Apps
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#updating-webpack-for-azure-mobile-apps-javascript-sdk" title="Updating Webpack for Azure Mobile Apps JavaScript SDK" class="md-nav__link">
    Updating Webpack for Azure Mobile Apps JavaScript SDK
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/adrianhall/develop-mobile-apps-with-csharp-and-azure/edit/master/docs/chapter6/react.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a>
                
                
                <h1 id="react-applications">React Applications<a class="headerlink" href="#react-applications" title="Permanent link">&para;</a></h1>
<p>There have been two major shifts in the way that JavaScript applications are built in the past few years.  The first is in the user of transpilers for compiling another variant of JavaScript into something that a browser can use.  There are languages that add whole new feature sets to the language, like <a href="http://coffeescript.org/">CoffeeScript</a>, <a href="https://www.typescriptlang.org/">TypeScript</a> and <a href="https://www.dartlang.org/">Dart</a>, plus others that extend JavaScript to include unsupported features of the JavaScript language early, like <a href="https://babeljs.io/">BabelJS</a> which provides access to the latest specifications for JavaScript on the current set of browsers.  The process of converting one of these languages into more normal JavaScript is called transpiling.  The resultant code is rarely readable.</p>
<p>The other major shift is in the use of bundlers.  In prior iterations of the JavaScript language, there was no module system.  Developers included a number of <code>&lt;script&gt;</code> tags to load the code.  As JavaScript became more of a development platform, the size of the code grew and the need for a module system also grew.  There are three in general use - <a href="http://requirejs.org/">RequireJS</a>, <a href="http://wiki.commonjs.org/wiki/Modules/1.1">CommonJS</a> and <a href="http://exploringjs.com/es6/ch_modules.html">ES2015 modules</a>.  In general, developers will use a bundler like <a href="http://browserify.org/">Browserify</a> or <a href="https://webpack.github.io/">Webpack</a> to bundle their application source together so that it loads faster and they can take care of alternate module specifications like CommonJS and ES2015 modules.  (RequireJS doesn't require bundling).</p>
<p>This brings us to <a href="https://facebook.github.io/react/">React</a> applications.  React is a newcomer to the JavaScript framework scene.  It provides a component model for your application.  It is generally paired with a <a href="https://facebook.github.io/flux/docs/in-depth-overview.html#content">Flux</a> state manager like <a href="http://redux.js.org/">Redux</a>.  Thus, most React applications can more properly be called React/Redux applications.  While React can be used with just straight JavaScript and script tags, it is more normal to use ES2015 syntax and a bundler like Webpack to distribute the application.</p>
<h2 id="setting-up">Setting Up<a class="headerlink" href="#setting-up" title="Permanent link">&para;</a></h2>
<p>In this example, we are going to walk through the set up of an application that uses Webpack and the BabelJS transpiler to build our web application into our MVC framework.</p>
<h3 id="mvc-controller-view">MVC Controller &amp; View<a class="headerlink" href="#mvc-controller-view" title="Permanent link">&para;</a></h3>
<p>As with the jQuery and Angular examples, we need a controller (within the <code>Controllers\SPAController.cs</code> file):</p>
<pre><code class="csharp">    public ActionResult React()
    {
        return View();
    }
</code></pre>

<p>We also need a suitable View.  This is similar in construction to the Angular view, but it requires some different elements, as is normal when you change a JavaScript framework.  This is <code>Views\SPA\React.cshtml</code>:</p>
<pre><code class="html">@{
    Layout = null;
}

&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
    &lt;title&gt;Azure Mobile Apps Quickstart&lt;/title&gt;
    &lt;link rel=&quot;stylesheet&quot; href=&quot;~/Content/spa/react/app.css&quot; /&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;div id=&quot;app&quot;&gt;&lt;/div&gt;

    &lt;script src=&quot;~/Content/spa/react/vendor.bundle.js&quot;&gt;&lt;/script&gt;
    &lt;script src=&quot;~/Content/spa/react/app.js&quot;&gt;&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

<p>This view is much simpler than the Angular view because none of the markup for the actual application is contained within the view.  All markup is done by the React components in our code.  There are three files referenced in this file that do not yet exist.  The JavaScript files will be created by the Webpack bundler, and the <code>app.css</code> file is the <a href="https://github.com/Azure/azure-mobile-apps-quickstarts/blob/master/client/web/styles.css">regular CSS file</a> from the normal Quickstart application.</p>
<h3 id="setting-up-a-webpack-project">Setting up a Webpack project<a class="headerlink" href="#setting-up-a-webpack-project" title="Permanent link">&para;</a></h3>
<p>There is some work to do in order to set up a reasonable Webpack-enabled project.  Let's first of all set up a basic React application in a new directory called <code>ReactClient</code>.  Here is the <code>ReactClient\app.jsx</code> file that will serve as our entry-point into the application:</p>
<pre><code class="javascript">import React from 'react';
import ReactDOM from 'react-dom';

ReactDOM.render(
    &lt;h1&gt;In a React Application&lt;/h1&gt;
, document.getElementById('app')
);
</code></pre>

<p>Once we have the build correctly done, the application will insert the <code>&lt;h1&gt;In a React Application&lt;/h1&gt;</code> inside the <code>&lt;div id="app"&gt;&lt;/div&gt;</code> from the main page.  This is the most basic of React applications, but we can already see some things we may not have seen before.  The <code>import</code> statements bring in ES2015 modules for use.  Also, you can embed pseudo-HTML into a React application rendering method by using <a href="http://buildwithreact.com/tutorial/jsx">JSX</a>.  When the application is transpiled with BabelJS, this pseudo-HTML get compiled into normal JavaScript.</p>
<p>There are three other files we want to produce that are build related.  The first is the <a href="https://babeljs.io/docs/usage/babelrc/">.babelrc</a> file.  This contains instructions to the BabelJS transpiler that tells it what specifications need to be transpiled:</p>
<pre><code class="text">{
    &quot;presets&quot;: [ &quot;es2015&quot;, &quot;react&quot; ],
    &quot;plugins&quot;: [
        &quot;transform-class-properties&quot;,
        &quot;transform-object-rest-spread&quot;
    ]
}
</code></pre>

<p>Our application will be written in ES2015 syntax with React extensions (those are presets) and I write with a couple of specifications that may or may not make it into the next JavaScript specification, but are useful - <a href="https://babeljs.io/docs/plugins/transform-class-properties/">Class Properties</a> and <a href="https://babeljs.io/docs/plugins/transform-object-rest-spread/">Object Rest Spread</a>.  Although these are considered "experimental", they make your life much easier as a developer.</p>
<p>The second file is <code>webpack.config.js</code>.  This is a JavaScript file that tells the Webpack system how to build the application.  Here is a suitable file for this application:</p>
<pre><code class="javascript">'use strict';
/* global __dirname */

var path = require('path'),
    webpack = require('webpack');

var configuration = {
    devtool: 'source-map',
    entry: {
        app: [
            path.join(__dirname, 'ReactClient/app.jsx')
        ],
        vendor: [
            'react',
            'react-dom'
        ]
    },
    module: {
        loaders: [
            { test: /\.jsx?$/, loader: 'babel', exclude: /node_modules/ }
        ]
    },
    output: {
        path: path.join(__dirname, 'Content/spa/react'),
        publicPath: '/',
        filename: 'app.js'
    },
    plugins: [
        new webpack.optimize.CommonsChunkPlugin('vendor', 'vendor.bundle.js'),
        new webpack.optimize.DedupePlugin()
    ],
    resolve: {
        modulesDirectories: [ 'node_modules' ],
        extensions: [ '', '.js', '.jsx' ]
    },
    target: 'web'
};

module.exports = configuration;
</code></pre>

<p>There are three areas of the configuration object that are interesting.  The <code>entry</code> block contains the entry-point for the application, but it also contains a vendor array.  This array is the list of modules that will be placed into the <code>vendor.bundle.js</code> file.  When we add a new external module, we need to add it to the list so that it is included in the bundle.  The <code>module</code> section contains instructions on how to transpile the source files.  The single entry tells Webpack to run all JavaScript and JSX files through the BabelJS transpiler.  Finally, the <code>output</code> section tells Webpack where to store the output files.</p>
<p>Our final file is <code>package.json</code>.  This is a fairly standard file for loading modules from the NPM repository.  You can create one using <code>npm init --yes</code>, then use <code>npm install modulename --save</code> to install the individual modules.  Alternatively, you can create the <code>package.json</code> file and then run <code>npm install</code> to install the modules that are named in the file.</p>
<pre><code class="text">{
  &quot;version&quot;: &quot;0.0.1&quot;,
  &quot;name&quot;: &quot;react-quickstart&quot;,
  &quot;private&quot;: true,
  &quot;main&quot;: &quot;ReactClient/app.jsx&quot;,
  &quot;scripts&quot;: {
    &quot;build&quot;: &quot;webpack -p&quot;
  },
  &quot;devDependencies&quot;: {},
  &quot;dependencies&quot;: {
    &quot;babel-core&quot;: &quot;^6.21.0&quot;,
    &quot;babel-loader&quot;: &quot;^6.2.10&quot;,
    &quot;babel-plugin-transform-class-properties&quot;: &quot;^6.19.0&quot;,
    &quot;babel-plugin-transform-object-rest-spread&quot;: &quot;^6.20.2&quot;,
    &quot;babel-preset-es2015&quot;: &quot;^6.18.0&quot;,
    &quot;babel-preset-react&quot;: &quot;^6.16.0&quot;,
    &quot;react&quot;: &quot;^15.4.1&quot;,
    &quot;react-dom&quot;: &quot;^15.4.1&quot;,
    &quot;webpack&quot;: &quot;^1.14.0&quot;
  }
}
</code></pre>

<p>Run <code>npm install</code> in the <code>Backend</code> directory once you have saved this file.  It will download all the modules needed.</p>
<div class="admonition tip">
<p class="admonition-title">Visual Studio Extensions</p>
<p>There are a number of Visual Studio extensions that can assist with this work.  Check out the <a href="../../vs_extensions/">Appendix</a> for more details on these.  You should definitely install the <a href="https://github.com/madskristensen/NpmTaskRunner">NPM Task Runner</a> extension before continuing though.</p>
</div>
<p>Both <code>webpack.config.js</code> and <code>package.json</code> should be at the top of the directory tree, in the <code>Backend</code> folder.  The <code>.babeljs</code> file should be in the <code>ReactClient</code> directory.</p>
<p>You should exclude any files that are not going to be distributed from the publication process.  This includes all three build files and the contents of the ReactClient directory.  Right-click on each object and select <strong>Properties...</strong>.  Set the <strong>Build Action</strong> to <strong>None</strong> and the <strong>Copy to Output Directory</strong> to <strong>Do not copy</strong>.</p>
<div class="admonition warn">
<p class="admonition-title">Add node_modules to .gitignore</p>
<p>You should ensure you add the <code>node\_modules</code> directory to your .gitignore file or it will be checked into source code. The <code>node\_modules</code> is normally very large and you can easily regenerate it by running <code>npm install</code>.</p>
</div>
<h3 id="building-the-webpack-files-automatically">Building the Webpack files automatically<a class="headerlink" href="#building-the-webpack-files-automatically" title="Permanent link">&para;</a></h3>
<p>If you have installed the <a href="https://github.com/madskristensen/NpmTaskRunner">NPM Task Runner</a>, you can build the entire JavaScript application within Visual Studio.  Open the Task Runner Explorer (<strong>View</strong> -&gt; <strong>Other Windows</strong> -&gt; <strong>Task Runner Explorer</strong>).  There will be a <code>package.json</code> section with <strong>Defaults</strong> and <strong>Custom</strong> sections within.  In the <strong>Defaults</strong> section, right-click on <strong>install</strong> and select <strong>Run</strong>.  This will install all the npm packages you are missing.</p>
<p>The next step is to do the first build.  Right-click on <strong>build</strong> in the <strong>Custom</strong> section and select <strong>Run</strong>.  This will generate the <code>vendor.bundle.js</code> and <code>app.js</code> files (plus their map equivalents).</p>
<div class="admonition info">
<p class="admonition-title">Map Files</p>
<p>Since there is no direct correlation between what is running in the browser and what your source code looks like when using transpilers and bundlers, these tools produce map files.  This is a (generally much larger) file that tells the browser what line represents a piece of code in the browser.  They are not distributed (nor required) in a production build.</p>
</div>
<p>As a one-time activity, we need to add the generated files to the project.  In the <strong>Solution Explorer</strong>, click on the <strong>Show All Files</strong> button (which is to the left of the spanner icon).  Expand <strong>Content</strong> -&gt; <strong>spa</strong> -&gt; <strong>react</strong> and you will see four files which have dotted icons:</p>
<p><img alt="" src="../img/show-all-files.PNG" /></p>
<p>Right-click on each file and select <strong>Include in Project</strong>.  Ensure their <strong><em>Build Action</em>* is set to </strong>Content** in the Properties pane.</p>
<p>Assuming all went well, you can now set up the build to happen automatically.  Right-click on <strong>build</strong> in the <strong>Custom</strong> section, then select <strong>Bindings</strong> &gt; <strong>Before Build</strong>.  This will generate the files on each build (before the build occurs).  If you publish the project as this point, you will be able to browse to <code>/SPA/React</code> and see the following:</p>
<p><img alt="" src="../img/react-intro.PNG" /></p>
<h2 id="integrating-azure-mobile-apps">Integrating Azure Mobile Apps<a class="headerlink" href="#integrating-azure-mobile-apps" title="Permanent link">&para;</a></h2>
<p>There are three parts to adding Azure Mobile Apps to a Redux: the store, the actions and the reducer.  The store is a central part of a redux application and you don't need to do anything special.  Here is the <code>ReactClient/redux/store.js</code> code:</p>
<pre><code class="javascript">import { createStore, combineReducers, applyMiddleware } from 'redux';
import createLogger from 'redux-logger';
import thunkMiddleware from 'redux-thunk';
import promiseMiddleware from 'redux-promise';

import * as reducers from './reducers';
import * as todoActions from './actions/todo';

const appReducers = combineReducers({ ...reducers });

const reduxStore = applyMiddleware(
    thunkMiddleware,
    promiseMiddleware,
    createLogger()
)(createStore);

export const store = reduxStore(appReducers);

// Dispatch a refresh action
store.dispatch(todoActions.refreshTodoItems());
</code></pre>

<p>The only real addition is that we dispatch an action (which initiates a change in the store) when we start up.  This action is for refreshing the content from the mobile backend.  Our reducer converts the actions into changes in the store.  This is the <code>ReactClient/reducers/todo.js</code>:</p>
<pre><code class="javascript">import constants from '../constants';

const initialState = {
    todoItems: [],
    network: 0,
    error: &quot;&quot;
};

export default function todoReducers(state = initialState, action) {
    switch (action.type) {
        case constants.todo.addItem:
            return Object.assign({}, state, {
                todoItems: state.todoItems.concat(action.item)
            });

        case constants.todo.removeItem:
            return Object.assign({}, state, {
                todoItems: state.todoItems.filter(item =&gt; item.id !== action.id)
            });

        case constants.todo.updateItem:
            return Object.assign({}, state, {
                todoItems: state.todoItems.map(item =&gt; { return (item.id === action.item.id) ? action.item : item; })
            });

        case constants.todo.replaceItems:
            return Object.assign({}, state, {
                todoItems: action.items
            });

        case constants.todo.network:
            return Object.assign({}, state, {
                network: state.network + action.counter
            });

        case constants.todo.error:
            return Object.assign({}, state, {
                error: action.error
            });

        default:
            return state;
    }
};
</code></pre>

<p>There is no network activity here because all the store changes are being done against a cached copy of the data.  You should not have to go to the cloud to fetch the data, except when refreshing the cache.  All the actual network activity happens inside the <code>ReactClient/actions/todo.js</code>:</p>
<pre><code class="javascript">import * as WindowsAzure from 'azure-mobile-apps-client';
import constants from '../constants';

const ZUMOAPPURL = location.origin;

const zumoClient = new WindowsAzure.MobileServiceClient(ZUMOAPPURL);
const todoTable = zumoClient.getTable('todoitem');

function networkProcess(counter) {
    return {
        type: constants.todo.network,
        counter: counter
    };
}

function zumoError(error) {
    return {
        type: constants.todo.error,
        error: error
    };
}

export function addTodoItem(item) {
    return (dispatch) =&gt; {
        dispatch({
            type: constants.todo.addItem,
            item: item
        });

        const success = (item) =&gt; {
            dispatch({
                type: constants.todo.updateItem,
                item: item
            });
        };
        const failure = (error) =&gt; { dispatch(zumoError(error)); };

        dispatch(networkProcess(1));
        todoTable.insert(item).done(success, failure);
        dispatch(networkProcess(-1));
    };
}

export function removeTodoItem(id) {
    return (dispatch) =&gt; {
        dispatch({
            type: constants.todo.removeItem,
            id: id
        });

        const success = () =&gt; {};
        const failure = (error) =&gt; { dispatch(zumoError(error)); };

        dispatch(networkProcess(1));
        todoTable.del({ id: id }).done(success, failure);
        dispatch(networkProcess(-1));
    };
}

export function updateTodoItem(item) {
    return (dispatch) =&gt; {
        dispatch({
            type: constants.todo.updateItem,
            item: item
        });

        const success = (item) =&gt; {
            dispatch({
                type: constants.todo.updateItem,
                item: item
            });
        };
        const failure = (error) =&gt; { dispatch(zumoError(error)); };

        dispatch(networkProcess(1));
        todoTable.update(item).done(success, failure);
        dispatch(networkProcess(-1));
    };

}

export function refreshTodoItems() {
    return (dispatch) =&gt; {
        const success = (data) =&gt; {
            dispatch({
                type: constants.todo.replaceItems,
                items: data
            });
        };
        const failure = (error) =&gt; { dispatch(zumoError(error)); };

        dispatch(networkProcess(1));
        todoTable.read().then(success, failure);
        dispatch(networkProcess(-1));
    }
}
</code></pre>

<p>Each action that is called by the client code kicks off a call into the standard Azure Mobile Apps JavaScript SDK to do the relevant change in the mobile backend.  When that returns, another action is dispatched to make the change in the store via the reducer.  In addition, we keep track of how many network requests are happening and we also handle errors via the <code>zumoError()</code> action.</p>
<p>I have not included all the code in this chapter as much of it is fairly standard React/Redux, but it is available on <a href="https://github.com/adrianhall/develop-mobile-apps-with-csharp-and-azure/tree/master/Chapter6/Backend">the GitHub repository</a> for the book.  Remember that you will have to update the <code>package.json</code> file and run <code>npm install</code> to install the additional libraries.</p>
<h3 id="updating-webpack-for-azure-mobile-apps-javascript-sdk">Updating Webpack for Azure Mobile Apps JavaScript SDK<a class="headerlink" href="#updating-webpack-for-azure-mobile-apps-javascript-sdk" title="Permanent link">&para;</a></h3>
<p>The Azure Mobile Apps JavaScript SDK requires an additional loader for Webpack to handle it.  Install the <code>json-loader</code> module using <code>npm install --save json-loader</code>, then add the following to the <code>loaders</code> section of the <code>webpack.config.js</code>:</p>
<pre><code class="text">    module: {
        loaders: [
            { test: /\.jsx?$/, loader: 'babel', exclude: /node_modules/ },
            { test: /\.json$/, loader: 'json' }
        ]
    },
</code></pre>

<p>Once the additional line is added, Webpack will handle the <code>azure-mobile-apps-client</code> without problems.</p>
<p>There is a lot more to be said about the capabilities of React, Redux, BabelJS and Webpack that is beyond the scope of this book.  I hope you will take the opportunity to try the vibrant JavaScript community out as you build single page applications.</p>
<!-- Images -->

<!-- Links -->
                
                  
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../angular/" title="Angular Applications" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                Angular Applications
              </span>
            </div>
          </a>
        
        
          <a href="../../chapter7/services/" title="Useful Azure Services" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                Useful Azure Services
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2017 Adrian Hall
          </div>
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/adrianhall" class="md-footer-social__link fa fa-github"></a>
    
      <a href="https://twitter.com/FizzyInTheHall" class="md-footer-social__link fa fa-twitter"></a>
    
  </div>

      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.a353778b.js"></script>
      
      <script>app.initialize({version:"1.0.4",url:{base:"../.."}})</script>
      
        <script src="../../js/highlight.pack.js"></script>
      
    
  </body>
</html>